<ui:composition xmlns="http://www.w3.org/1999/xhtml"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:s="http://jboss.com/products/seam/taglib"
  xmlns:rich="http://richfaces.org/rich"
  xmlns:a4j="http://richfaces.org/a4j"><!--

   readonly for TinyMCE:
   http://wiki.moxiecode.com/index.php/TinyMCE:Configuration/readonly


   conclusion description only rendered if there is something to write
   the description is inserted by the user when finishing the workflow
   in a different tab, this should be only displayed in readonly mode...
   -->

<tr>
  <td colspan="2">
    <s:decorate id="conclusionDescriptionProperty"
                template="/layout/fragments/editproperty.xhtml"
                rendered="#{not empty changeRequestData.conclusionDescription}">
      <ui:define name="label"><h:outputText value="#{messages['changeRequestMessageBean.conclusionDescription']}" /></ui:define>
          <div style="display: table;">
          <rich:editor value="#{changeRequestData.conclusionDescription}"
                       configuration="mcePropertyConfig"
                       customPlugins="mcePlugins">
              <f:param name="htmlcharcount_maxchars" value="2024" />
              <f:param name="readonly" value="#{readonly?'true':'false'}" />
              <!-- autoresize to show the full content on the page, htmlcharcount doesn't work with readonly  -->
              <f:param name="plugins" value="#{readonly?'autoresize':'htmlcharcount, paste'}" />
          </rich:editor>
          </div>
    </s:decorate>
  </td>
</tr>

</ui:composition>